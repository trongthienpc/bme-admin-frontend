{"ast":null,"code":"var _jsxFileName = \"D:\\\\bme\\\\admin\\\\frontend\\\\src\\\\components\\\\views\\\\pages\\\\blog\\\\blog.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Form, Image, Modal, Row, Col, Card } from \"react-bootstrap\";\nimport FileBase64 from \"react-file-base64\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { addEntity, getAll, getById } from \"../../../../services/blogServices\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { ADD_SUCC, SER_ERROR } from \"../../../../context/constant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Blog = () => {\n  _s();\n\n  // init value\n  const editorRef = useRef(null);\n  const [blogs, setBlogs] = useState([]);\n  const [imageState, setImageState] = useState();\n  const [entityState, setEntityState] = useState({\n    name: \"\",\n    avatar: \"\",\n    content: \"\"\n  });\n  useEffect(() => {\n    getAllBlogs();\n  }, [blogs]); // get all blogs\n\n  const getAllBlogs = async () => {\n    try {\n      const response = await getAll();\n      setBlogs(response.data);\n    } catch (error) {\n      toast.error(SER_ERROR);\n      console.log(\"error\");\n    }\n  }; // handle edit blog\n\n\n  const [modalEditShow, setModalEditShow] = useState(false);\n  const [oldEntity, setOldEntity] = useState({});\n  const [oldId, setOldId] = useState(\"\");\n\n  const handleOldEntityChange = e => {\n    return { ...oldEntity,\n      [e.target.name]: e.target.value\n    };\n  };\n\n  const handleEdit = async id => {\n    setOldId(id);\n\n    try {\n      const res = await getById(id);\n      console.log(\"res:\", res);\n\n      if (res) {\n        setOldEntity(res.data.response);\n        setImageState(res.data.response.avatar);\n        setModalEditShow(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleDelete = () => {};\n\n  const handleEditSubmit = () => {}; // handle entity change\n\n\n  const handleEntityChange = e => {\n    setEntityState({ ...entityState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const [modalAddShow, setModalAddShow] = useState(false); // handle add\n\n  const handleAdd = () => {\n    setModalAddShow(true);\n  }; // submit entity to server\n\n\n  const handleAddSubmit = async e => {\n    e.preventDefault();\n    if (editorRef.current) setEntityState({ ...entityState,\n      content: editorRef.current.getContent()\n    });\n    if (imageState) setEntityState({ ...entityState,\n      avatar: imageState\n    });\n    const formData = new FormData();\n    formData.append(\"name\", entityState.name);\n    formData.append(\"quotes\", entityState.quotes);\n    formData.append(\"avatar\", entityState.avatar);\n    entityState.content = editorRef.current.getContent();\n    formData.append(\"content\", entityState.content);\n\n    try {\n      const response = await addEntity(formData);\n\n      if (response.data.success) {\n        toast.success(ADD_SUCC);\n        setModalAddShow(false);\n      }\n    } catch (error) {\n      toast.error(\"Have error, please do it later\");\n      console.log(error);\n    }\n\n    setImageState(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary mb-2\",\n      onClick: () => handleAdd(),\n      children: \"Add New\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      xs: 1,\n      sm: 2,\n      md: 3,\n      className: \"g-4\",\n      children: blogs.map((blog, index) => /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-2 h-100\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: blog.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Card.Title, {\n              children: blog.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn btn-primary m-2\",\n              onClick: () => handleEdit(blog._id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn btn-warning m-2\",\n              onClick: () => handleDelete(blog._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      size: \"lg\",\n      show: modalAddShow,\n      onHide: () => setModalAddShow(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Add new blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleAddSubmit,\n          method: \"post\" // encType=\"multipart/form-data\"\n          ,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter name\",\n              name: \"name\",\n              value: entityState.name,\n              onChange: handleEntityChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicQuotes\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter name\",\n              name: \"quotes\",\n              value: entityState.quotes,\n              onChange: handleEntityChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formAvatar\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(FileBase64, {\n                type: \"file\",\n                multiple: false,\n                onDone: _ref => {\n                  let {\n                    base64\n                  } = _ref;\n                  return setImageState(base64);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Image, {\n                src: imageState,\n                fluid: true,\n                rounded: true,\n                thumbnail: true,\n                className: \"mb-2\",\n                hidden: imageState ? false : true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formEditor\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Editor, {\n                apiKey: \"vqpljjh1ie1cw1eyrhhvw95556fdpeq24q7jyxmb7jgpmfcn\",\n                onInit: (evt, editor) => editorRef.current = editor,\n                initialValue: \"<p>This is the initial content of the editor.</p>\",\n                init: {\n                  height: 500,\n                  menubar: false,\n                  plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount\"],\n                  toolbar: \"undo redo | formatselect | \" + \"bold italic backcolor | alignleft aligncenter \" + \"alignright alignjustify | bullist numlist outdent indent | \" + \"image| removeformat | help\",\n                  file_picker_callback: function (cb, value, meta) {\n                    var input = document.createElement(\"input\");\n                    input.setAttribute(\"type\", \"file\");\n                    input.setAttribute(\"accept\", \"image/*\");\n\n                    input.onchange = function () {\n                      var file = this.files[0];\n                      var reader = new FileReader();\n\n                      reader.onload = function () {\n                        var id = \"blobid\" + new Date().getTime();\n                        var blobCache = editorRef.current.editorUpload.blobCache;\n                        var base64 = reader.result.split(\",\")[1];\n                        var blobInfo = blobCache.create(id, file, base64);\n                        blobCache.add(blobInfo);\n                        cb(blobInfo.blobUri(), {\n                          title: file.name\n                        });\n                      };\n\n                      reader.readAsDataURL(file);\n                    };\n\n                    input.click();\n                  },\n                  content_style: \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\" //   onClick={handleAddSubmit}\n            ,\n            disabled: imageState ? false : true,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      size: \"lg\",\n      show: modalEditShow,\n      onHide: () => setModalEditShow(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Edit blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleEditSubmit,\n          method: \"post\" // encType=\"multipart/form-data\"\n          ,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter name\",\n              name: \"name\",\n              value: oldEntity.name,\n              onChange: handleOldEntityChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formAvatar\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(FileBase64, {\n                type: \"file\",\n                multiple: false,\n                onDone: _ref2 => {\n                  let {\n                    base64\n                  } = _ref2;\n                  return setImageState(base64);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Image, {\n                src: imageState,\n                fluid: true,\n                rounded: true,\n                thumbnail: true,\n                className: \"mb-2\",\n                hidden: imageState ? false : true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formEditor\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Editor, {\n                apiKey: \"vqpljjh1ie1cw1eyrhhvw95556fdpeq24q7jyxmb7jgpmfcn\",\n                onInit: (evt, editor) => editorRef.current = editor,\n                initialValue: oldEntity.content,\n                init: {\n                  height: 500,\n                  menubar: false,\n                  plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount\"],\n                  toolbar: \"undo redo | formatselect | \" + \"bold italic backcolor | alignleft aligncenter \" + \"alignright alignjustify | bullist numlist outdent indent | \" + \"image| removeformat | help\",\n                  file_picker_callback: function (cb, value, meta) {\n                    var input = document.createElement(\"input\");\n                    input.setAttribute(\"type\", \"file\");\n                    input.setAttribute(\"accept\", \"image/*\");\n\n                    input.onchange = function () {\n                      var file = this.files[0];\n                      var reader = new FileReader();\n\n                      reader.onload = function () {\n                        var id = \"blobid\" + new Date().getTime();\n                        var blobCache = editorRef.current.editorUpload.blobCache;\n                        var base64 = reader.result.split(\",\")[1];\n                        var blobInfo = blobCache.create(id, file, base64);\n                        blobCache.add(blobInfo);\n                        cb(blobInfo.blobUri(), {\n                          title: file.name\n                        });\n                      };\n\n                      reader.readAsDataURL(file);\n                    };\n\n                    input.click();\n                  },\n                  content_style: \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\" //   onClick={handleAddSubmit}\n            ,\n            disabled: imageState ? false : true,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Blog, \"xNVt1ksPIf88IscUj0QAiBuCwlE=\");\n\n_c = Blog;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"sources":["D:/bme/admin/frontend/src/components/views/pages/blog/blog.js"],"names":["React","useEffect","useRef","useState","Button","Form","Image","Modal","Row","Col","Card","FileBase64","Editor","addEntity","getAll","getById","toast","ToastContainer","ADD_SUCC","SER_ERROR","Blog","editorRef","blogs","setBlogs","imageState","setImageState","entityState","setEntityState","name","avatar","content","getAllBlogs","response","data","error","console","log","modalEditShow","setModalEditShow","oldEntity","setOldEntity","oldId","setOldId","handleOldEntityChange","e","target","value","handleEdit","id","res","handleDelete","handleEditSubmit","handleEntityChange","modalAddShow","setModalAddShow","handleAdd","handleAddSubmit","preventDefault","current","getContent","formData","FormData","append","quotes","success","map","blog","index","_id","base64","evt","editor","height","menubar","plugins","toolbar","file_picker_callback","cb","meta","input","document","createElement","setAttribute","onchange","file","files","reader","FileReader","onload","Date","getTime","blobCache","editorUpload","result","split","blobInfo","create","add","blobUri","title","readAsDataURL","click","content_style"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Form, Image, Modal, Row, Col, Card } from \"react-bootstrap\";\r\nimport FileBase64 from \"react-file-base64\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport { addEntity, getAll, getById } from \"../../../../services/blogServices\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { ADD_SUCC, SER_ERROR } from \"../../../../context/constant\";\r\n\r\nconst Blog = () => {\r\n  // init value\r\n  const editorRef = useRef(null);\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [imageState, setImageState] = useState();\r\n  const [entityState, setEntityState] = useState({\r\n    name: \"\",\r\n    avatar: \"\",\r\n    content: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    getAllBlogs();\r\n  }, [blogs]);\r\n\r\n  // get all blogs\r\n  const getAllBlogs = async () => {\r\n    try {\r\n      const response = await getAll();\r\n      setBlogs(response.data);\r\n    } catch (error) {\r\n      toast.error(SER_ERROR);\r\n      console.log(\"error\");\r\n    }\r\n  };\r\n\r\n  // handle edit blog\r\n  const [modalEditShow, setModalEditShow] = useState(false);\r\n  const [oldEntity, setOldEntity] = useState({});\r\n  const [oldId, setOldId] = useState(\"\");\r\n  const handleOldEntityChange = (e) => {\r\n    return {\r\n      ...oldEntity,\r\n      [e.target.name]: e.target.value,\r\n    };\r\n  };\r\n\r\n  const handleEdit = async (id) => {\r\n    setOldId(id);\r\n    try {\r\n      const res = await getById(id);\r\n      console.log(\"res:\", res);\r\n      if (res) {\r\n        setOldEntity(res.data.response);\r\n        setImageState(res.data.response.avatar);\r\n        setModalEditShow(true);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {};\r\n\r\n  const handleEditSubmit = () => {};\r\n  // handle entity change\r\n  const handleEntityChange = (e) => {\r\n    setEntityState({\r\n      ...entityState,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const [modalAddShow, setModalAddShow] = useState(false);\r\n\r\n  // handle add\r\n  const handleAdd = () => {\r\n    setModalAddShow(true);\r\n  };\r\n\r\n  // submit entity to server\r\n  const handleAddSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (editorRef.current)\r\n      setEntityState({\r\n        ...entityState,\r\n        content: editorRef.current.getContent(),\r\n      });\r\n\r\n    if (imageState)\r\n      setEntityState({\r\n        ...entityState,\r\n        avatar: imageState,\r\n      });\r\n    const formData = new FormData();\r\n    formData.append(\"name\", entityState.name);\r\n    formData.append(\"quotes\", entityState.quotes);\r\n    formData.append(\"avatar\", entityState.avatar);\r\n    entityState.content = editorRef.current.getContent();\r\n    formData.append(\"content\", entityState.content);\r\n    try {\r\n      const response = await addEntity(formData);\r\n      if (response.data.success) {\r\n        toast.success(ADD_SUCC);\r\n        setModalAddShow(false);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Have error, please do it later\");\r\n      console.log(error);\r\n    }\r\n    setImageState(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn btn-secondary mb-2\" onClick={() => handleAdd()}>\r\n        Add New\r\n      </button>\r\n      <Row xs={1} sm={2} md={3} className=\"g-4\">\r\n        {blogs.map((blog, index) => (\r\n          <Col key={index}>\r\n            <Card className=\"mb-2 h-100\">\r\n              <Card.Img variant=\"top\" src={blog.avatar} />\r\n              <Card.Body>\r\n                <Card.Title>{blog.name}</Card.Title>\r\n              </Card.Body>\r\n              <Card.Footer className=\"d-flex justify-content-between\">\r\n                <Button\r\n                  className=\"btn btn-primary m-2\"\r\n                  onClick={() => handleEdit(blog._id)}\r\n                >\r\n                  Edit\r\n                </Button>\r\n                <Button\r\n                  className=\"btn btn-warning m-2\"\r\n                  onClick={() => handleDelete(blog._id)}\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </Card.Footer>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\r\n      {/* modal add new blog */}\r\n      <Modal\r\n        size=\"lg\"\r\n        show={modalAddShow}\r\n        onHide={() => setModalAddShow(false)}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Add new blog\r\n            {/* <pre>{JSON.stringify(roomState, null, '\\t')}</pre> */}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form\r\n            onSubmit={handleAddSubmit}\r\n            method=\"post\"\r\n            // encType=\"multipart/form-data\"\r\n          >\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                name=\"name\"\r\n                value={entityState.name}\r\n                onChange={handleEntityChange}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicQuotes\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                name=\"quotes\"\r\n                value={entityState.quotes}\r\n                onChange={handleEntityChange}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formAvatar\" className=\"mb-3\">\r\n              <Form.Label>Avatar</Form.Label>\r\n              {/* <Form.Control type=\"file\" name=\"image\" onChange={handleImage} /> */}\r\n              <div>\r\n                <FileBase64\r\n                  type=\"file\"\r\n                  multiple={false}\r\n                  onDone={({ base64 }) => setImageState(base64)}\r\n                />\r\n                <Image\r\n                  src={imageState}\r\n                  fluid\r\n                  rounded\r\n                  thumbnail\r\n                  className=\"mb-2\"\r\n                  hidden={imageState ? false : true}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formEditor\" className=\"mb-3\">\r\n              <Form.Label>Content</Form.Label>\r\n              <div>\r\n                <Editor\r\n                  apiKey=\"vqpljjh1ie1cw1eyrhhvw95556fdpeq24q7jyxmb7jgpmfcn\"\r\n                  onInit={(evt, editor) => (editorRef.current = editor)}\r\n                  initialValue=\"<p>This is the initial content of the editor.</p>\"\r\n                  init={{\r\n                    height: 500,\r\n                    menubar: false,\r\n                    plugins: [\r\n                      \"advlist autolink lists link image charmap print preview anchor\",\r\n                      \"searchreplace visualblocks code fullscreen\",\r\n                      \"insertdatetime media table paste code help wordcount\",\r\n                    ],\r\n                    toolbar:\r\n                      \"undo redo | formatselect | \" +\r\n                      \"bold italic backcolor | alignleft aligncenter \" +\r\n                      \"alignright alignjustify | bullist numlist outdent indent | \" +\r\n                      \"image| removeformat | help\",\r\n                    file_picker_callback: function (cb, value, meta) {\r\n                      var input = document.createElement(\"input\");\r\n                      input.setAttribute(\"type\", \"file\");\r\n                      input.setAttribute(\"accept\", \"image/*\");\r\n                      input.onchange = function () {\r\n                        var file = this.files[0];\r\n                        var reader = new FileReader();\r\n                        reader.onload = function () {\r\n                          var id = \"blobid\" + new Date().getTime();\r\n                          var blobCache =\r\n                            editorRef.current.editorUpload.blobCache;\r\n                          var base64 = reader.result.split(\",\")[1];\r\n                          var blobInfo = blobCache.create(id, file, base64);\r\n                          blobCache.add(blobInfo);\r\n                          cb(blobInfo.blobUri(), { title: file.name });\r\n                        };\r\n                        reader.readAsDataURL(file);\r\n                      };\r\n                      input.click();\r\n                    },\r\n                    content_style:\r\n                      \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\",\r\n                  }}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Button\r\n              variant=\"primary\"\r\n              type=\"submit\"\r\n              //   onClick={handleAddSubmit}\r\n              disabled={imageState ? false : true}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* modal edit room */}\r\n      <Modal\r\n        size=\"lg\"\r\n        show={modalEditShow}\r\n        onHide={() => setModalEditShow(false)}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Edit blog\r\n            {/* <pre>{JSON.stringify(roomState, null, '\\t')}</pre> */}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form\r\n            onSubmit={handleEditSubmit}\r\n            method=\"post\"\r\n            // encType=\"multipart/form-data\"\r\n          >\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                name=\"name\"\r\n                value={oldEntity.name}\r\n                onChange={handleOldEntityChange}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formAvatar\" className=\"mb-3\">\r\n              <Form.Label>Avatar</Form.Label>\r\n              {/* <Form.Control type=\"file\" name=\"image\" onChange={handleImage} /> */}\r\n              <div>\r\n                <FileBase64\r\n                  type=\"file\"\r\n                  multiple={false}\r\n                  onDone={({ base64 }) => setImageState(base64)}\r\n                />\r\n                <Image\r\n                  src={imageState}\r\n                  fluid\r\n                  rounded\r\n                  thumbnail\r\n                  className=\"mb-2\"\r\n                  hidden={imageState ? false : true}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formEditor\" className=\"mb-3\">\r\n              <Form.Label>Content</Form.Label>\r\n              <div>\r\n                <Editor\r\n                  apiKey=\"vqpljjh1ie1cw1eyrhhvw95556fdpeq24q7jyxmb7jgpmfcn\"\r\n                  onInit={(evt, editor) => (editorRef.current = editor)}\r\n                  initialValue={oldEntity.content}\r\n                  init={{\r\n                    height: 500,\r\n                    menubar: false,\r\n                    plugins: [\r\n                      \"advlist autolink lists link image charmap print preview anchor\",\r\n                      \"searchreplace visualblocks code fullscreen\",\r\n                      \"insertdatetime media table paste code help wordcount\",\r\n                    ],\r\n                    toolbar:\r\n                      \"undo redo | formatselect | \" +\r\n                      \"bold italic backcolor | alignleft aligncenter \" +\r\n                      \"alignright alignjustify | bullist numlist outdent indent | \" +\r\n                      \"image| removeformat | help\",\r\n                    file_picker_callback: function (cb, value, meta) {\r\n                      var input = document.createElement(\"input\");\r\n                      input.setAttribute(\"type\", \"file\");\r\n                      input.setAttribute(\"accept\", \"image/*\");\r\n                      input.onchange = function () {\r\n                        var file = this.files[0];\r\n                        var reader = new FileReader();\r\n                        reader.onload = function () {\r\n                          var id = \"blobid\" + new Date().getTime();\r\n                          var blobCache =\r\n                            editorRef.current.editorUpload.blobCache;\r\n                          var base64 = reader.result.split(\",\")[1];\r\n                          var blobInfo = blobCache.create(id, file, base64);\r\n                          blobCache.add(blobInfo);\r\n                          cb(blobInfo.blobUri(), { title: file.name });\r\n                        };\r\n                        reader.readAsDataURL(file);\r\n                      };\r\n                      input.click();\r\n                    },\r\n                    content_style:\r\n                      \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\",\r\n                  }}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Button\r\n              variant=\"primary\"\r\n              type=\"submit\"\r\n              //   onClick={handleAddSubmit}\r\n              disabled={imageState ? false : true}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Blog;\r\n"]},"metadata":{},"sourceType":"module"}